<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utilise render props to separate logic from presentation in React</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i" rel="stylesheet">
    
    <style type="text/css">.article h1{font-size:1.5em}.article a{color:#dec898;text-decoration:none}.article p{line-height:1.5em}.article pre{background-color:#1f2229;padding:10px;overflow:scroll;color:#d3be92;border-radius:4px}.article ol,.article ul{padding-left:20px}.article ol li{color:#fff}.button{text-decoration:none;color:#fff;display:inline-block;padding:15px 20px;background-color:#25272f;border-radius:4px;box-shadow:0 1px 0 1px #14151b;transition:all .4s ease-in-out}.button:hover{background-color:#2b2e38}.button:active{box-shadow:inset 0 1px 0 1px #14151b;background-color:#15161b}.container{max-width:900px;margin:0 auto}@media screen and (max-width:900px){.container{width:95%}}.divider{margin:20px 0;border:1px solid #25272f}body,html{margin:0;padding:0;font-family:Roboto,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background-color:#2e323d}h1,h2,h3,h4,h5,h6,p{color:#dadada;margin:20px 0}h1{font-weight:700;line-height:1.25em}h2,h3{font-weight:100;line-height:1.5em}.navigation{margin:0;padding:0;list-style:none;display:flex;align-items:center;background-color:#262931}.navigation__item{display:inline-flex}.navigation__item--brand{flex-grow:1}.navigation__link{padding:20px;text-decoration:none;color:#fff;font-weight:300;transition:opacity .4s ease-in-out}.navigation__link:hover{opacity:.7}.navigation__link>span{position:relative;top:2px}.post__title{color:#dec898;text-decoration:none;font-weight:200}</style>
  </head>
  <body> 
    <nav>
      <ul class="navigation">
        <li class="navigation__item navigation__item--brand">
          <a href="/" class="navigation__link"><span>ðŸ˜„</span> Kameron Tanseli</a>
        </li>
      </ul>
    </nav>
    <div class="container">
      
<article class="article">
  <h1>Utilise render props to separate logic from presentation in React</h1>
<p>Separating logic from your presentation has always been a best practise. It enforces the <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">single responsibility principle (SRP)</a> and makes the code easier to test.</p>
<p>React however gets in trouble for letting developers mush the two concerns together with ease. Lets take an example from the <a href="https://reactjs.org/">homepage</a> to explain:</p>
<pre><code class="language-jsx">class Timer extends React.Component {
  constructor(props) {
    super(props);
    this.state = { seconds: 0 };
  }
  tick() {
    this.setState(prevState =&gt; ({ seconds: prevState.seconds + 1 }));
  }
  componentDidMount() {
    this.interval = setInterval(() =&gt; this.tick(), 1000);
  }
  componentWillUnmount() {
    clearInterval(this.interval);
  }
  render() {
    return &lt;div&gt;Seconds: {this.state.seconds}&lt;/div&gt;;
  }
}
</code></pre>
<p>Above you can see the rather simple Timer class. You can also see the display logic for the class is coded right into the <code>render()</code> method.</p>
<p>The problem with having <code>&lt;div&gt;Seconds: {this.state.seconds}&lt;/div&gt;</code> in the <code>Timer</code> class is that itâ€™s not separating logic from presentation.</p>
<p>Lets separate the two concerns:</p>
<pre><code class="language-jsx">const SecondsActive = ({ seconds }) =&gt; &lt;div&gt;Seconds: {seconds}&lt;/div&gt;;

class TimerContainer extends React.Component {
  state = { seconds: 0 };
  tick() {
    this.setState(({ seconds }) =&gt; ({ seconds: seconds + 1 }));
  }
  componentDidMount() {
    this.interval = setInterval(() =&gt; this.tick(), 1000);
  }
  componentWillUnmount() {
    clearInterval(this.interval);
  }
  render() {
    return this.props.view({ seconds: this.state.seconds });
  }
}

ReactDOM.render(
  &lt;TimerContainer view={SecondsActive} /&gt;,
  document.getElementById(&quot;app&quot;)
);
</code></pre>
<p>With a simple switch to rendering via a prop we have made the <code>Timer</code> class reusable across many presentational components and have made the presentational component super easy to test!</p>
 
</article>
 
    </div>
  </body>
</html>
