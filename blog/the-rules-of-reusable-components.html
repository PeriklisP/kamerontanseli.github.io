<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-2075253673 next-head"/><meta charSet="utf-8" class="jsx-2075253673 next-head"/><title class="jsx-2075253673 next-head">The rules of reusable components</title><meta name="description" content="I spend a lot of my time developing new reusable UI components." class="jsx-2075253673 next-head"/><meta name="twitter:card" content="summary" class="jsx-2075253673 next-head"/><meta name="twitter:site" content="@KameronTanseli" class="jsx-2075253673 next-head"/><meta name="twitter:title" content="The rules of reusable components" class="jsx-2075253673 next-head"/><meta name="twitter:description" content="I spend a lot of my time developing new reusable UI components." class="jsx-2075253673 next-head"/><meta name="twitter:creator" content="@KameronTanseli" class="jsx-2075253673 next-head"/><meta name="twitter:image" content="https://kamrn.com/static/meta.png" class="jsx-2075253673 next-head"/><meta property="og:title" content="The rules of reusable components" class="jsx-2075253673 next-head"/><meta property="og:type" content="article" class="jsx-2075253673 next-head"/><meta property="og:url" content="https://kamrn.com" class="jsx-2075253673 next-head"/><meta property="og:image" content="https://kamrn.com/static/meta.png" class="jsx-2075253673 next-head"/><meta property="og:description" content="I spend a lot of my time developing new reusable UI components." class="jsx-2075253673 next-head"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72466279-4" class="jsx-2075253673 next-head"></script><link rel="preload" href="/_next/static/CeXEtZCK_dH_lyNvIwT12/pages/blog/[slug].js" as="script"/><link rel="preload" href="/_next/static/CeXEtZCK_dH_lyNvIwT12/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-ec75628763f128f9ddee.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.fb2d51f5ea79888db098.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-606693b16ac3d77701fe.js" as="script"/><style id="__jsx-2075253673">*{box-sizing:border-box;}html{font-size:100%;}body{background-color:#fff;font-weight:400;font-family:Helvetica;line-height:1.75;color:#000;margin:0;padding:0;}.container{max-width:800px;margin:0 auto;}</style><style id="__jsx-1866064296">.navigation-bg.jsx-1866064296{background-color:#3286b3;}.navigation.jsx-1866064296{padding:1em 2em;display:grid;grid-template-columns:1fr auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.navigation-menu.jsx-1866064296{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:20px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;}.navigation-logo.jsx-1866064296{-webkit-text-decoration:none;text-decoration:none;color:#fff;font-size:1em;-webkit-letter-spacing:5px;-moz-letter-spacing:5px;-ms-letter-spacing:5px;letter-spacing:5px;}.navigation-link.jsx-1866064296{color:#fff;-webkit-text-decoration:none;text-decoration:none;font-size:0.9em;}@media screen and (max-width:480px){.navigation.jsx-1866064296{grid-template-columns:1fr;grid-gap:10px;}.navigation-menu.jsx-1866064296{text-align:left;grid-template-columns:repeat(4,auto);}}</style><style id="__jsx-525169924">ul.jsx-525169924{display:grid;grid-template-columns:repeat(5,auto);list-style:none;margin:0;padding:1em;}li.jsx-525169924{font-size:0.8em;}a.jsx-525169924{color:#0073a7;}@media screen and (max-width:480px){ul.jsx-525169924{grid-template-columns:repeat(2,auto);}}</style><style id="__jsx-1922407009">.content.jsx-1922407009{padding:2em;}.content-title.jsx-1922407009{margin-top:0;margin-bottom:1em;}.content.jsx-1922407009 blockquote{background-color:#eee;padding:0.5em;margin:0;padding-left:1em;border-left:5px solid grey;}.content.jsx-1922407009 blockquote > p{margin:0;}.content.jsx-1922407009 a{color:#0073a7;}.content.jsx-1922407009 img{max-width:100%;margin:0 auto;display:block;}.content.jsx-1922407009 pre{padding:1em;background-color:#eee;border-radius:4px;}</style></head><body><div id="__next"><div class="jsx-1866064296 navigation-bg"><div class="jsx-1866064296 container"><div class="jsx-1866064296 navigation"><div class="jsx-1866064296 navigation-brand"><a href="/" class="jsx-1866064296 navigation-logo">KAMRN</a></div><div class="jsx-1866064296 navigation-menu"><div class="jsx-1866064296"><a href="/" class="jsx-1866064296 navigation-link">Home</a></div><div class="jsx-1866064296"><a href="/about" class="jsx-1866064296 navigation-link">About</a></div><div class="jsx-1866064296"><a href="/projects" class="jsx-1866064296 navigation-link">Projects</a></div><div class="jsx-1866064296"><a target="_blank" href="https://kameront.substack.com" class="jsx-1866064296 navigation-link">Newsletter</a></div></div></div></div></div><div class="jsx-1922407009 container"><div class="jsx-1922407009 content"><article class="jsx-1922407009"><h1 class="jsx-1922407009 content-title">The rules of reusable components</h1><p>I spend a lot of my time developing new reusable UI components.</p><p>This means during development I tend to extract UI components that are placed in a shared library or styleguide. These components are reused throughout the entire project. Often having different styles or layouts when integrated into features.</p><p>Along the way I learnt a few rules that helped me save time and pain.</p><h2>1. Keep the layout fluid</h2><p>I can’t count the amount of times a component has had a fixed width and that has affected a responsive design. Meaning I have to go in and fiddle with the existing props that was set up in place for another feature somewhere in the site. Not good.</p><p>By keeping the component 100% width you pass the layout responsibility up to the parent component.</p><p>For example it’s a lot easier to use <code>CardOne</code> over <code>CardTwo</code>. As <code>CardOne</code> will respond to the parent&#x27;s column changes when the screen size changes.</p><pre><code class="language-javascript">const CardOne = ({ title }) =&gt; (
  &lt;div style={{ 
    padding: &quot;20px 30px&quot;, 
    background: &quot;white&quot; 
  }}&gt;{title}&lt;/div&gt;
);

const CardTwo = ({ title }) =&gt; (
  &lt;div style={{ 
    width: 600, 
    padding: &quot;10px&quot;,
    background: &quot;white&quot; 
  }}&gt;
    {title}
  &lt;/div&gt;
);

const App = () =&gt; (
  &lt;div className=&quot;row&quot;&gt;
    &lt;div className=&quot;col-md-6&quot;&gt;
      &lt;CardOne title=&quot;I&#x27;m Fluid&quot; /&gt;
    &lt;/div&gt;
    &lt;div className=&quot;col-md-6&quot;&gt;
      &lt;CardTwo title=&quot;I will break this layout&quot; /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
);</code></pre><h2>2. Allow extra props to be passed</h2><p>Turns out that your Button component needs a specific data attribute to work with the library you’re using for one of the specific features. Too bad that the <code>Button</code> component only allows <code>className</code>, <code>children</code> and <code>onClick</code>.</p><p>How can we fix this?</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">Modern ES6 JavaScript allows you to spread function parameters and objects.</a> This can be used to feed props to components.</p><pre><code class="language-javascript">// Before -&gt; &lt;button className=&quot;button&quot;&gt;Click me&lt;/button&gt;

const Button = ({ children, className, onClick }) =&gt; (
  &lt;button 
    onClick={onClick} 
    className={`${styles.button} ${className || &quot;&quot;}`}&gt;
    {children}
  &lt;/button&gt;
);

// After -&gt; &lt;button className=&quot;button&quot; data-theme=&quot;dark&quot;&gt;Click me&lt;/button&gt;

const Button = ({ className, ...props }) =&gt; (
  &lt;button 
    className={`${styles.button} ${className || &quot;&quot;}`} 
    {...props} /&gt;
);

// Example

const App = ({ onActivate }) =&gt; (
  &lt;SpecificFeature&gt;
    &lt;Button data-theme=&quot;dark&quot; onClick={onActivate}&gt;
      Click me
    &lt;/Button&gt;
  &lt;/SpecificFeature&gt;
);</code></pre><h2>3. Push logic upwards / Keep it dumb</h2><p>One of the top things that prevents reusability is when stateful logic specific to a feature is implemented within a reusable component.</p><p>Imagine you have a <code>Dropdown</code> component. That you have used in your navigation when a link is clicked.</p><pre><code class="language-javascript">const DropdownItem = ({ className, ...props }) =&gt; (
  &lt;li className={`dropdown-item ${className || &quot;&quot;}`} {...props} /&gt;
);

class Dropdown extends React.Component {
  state = { toggled: false };
  toggle = () =&gt; this.setState(state =&gt; ({ toggled: !state.toggled }));
  render() {
    return (
      &lt;div className=&quot;navbar-link&quot;&gt;
        &lt;span onClick={this.toggle}&gt; {this.props.title} &lt;/span&gt;
        {this.state.toggled &amp;&amp; (
          &lt;ul className=&quot;dropdown&quot;&gt; {this.props.children} &lt;/ul&gt;
        )}
      &lt;/div&gt;
    );
  }
}

const Navbar = () =&gt; (
  &lt;div className=&quot;navbar&quot;&gt;
    &lt;div className=&quot;navbar-brand&quot;&gt;Example&lt;/div&gt;
    &lt;ul className=&quot;navbar-menu&quot;&gt;
      &lt;Dropdown title=&quot;My Account&quot;&gt;
        &lt;DropdownItem&gt;One&lt;/DropdownItem&gt;
        &lt;DropdownItem&gt;Two&lt;/DropdownItem&gt;
      &lt;/Dropdown&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
);</code></pre><p>The problem above is:</p><ol><li><p><code>Dropdown</code> handles the logic for opening and closing the dropdown. Making it a lot harder to reuse <code>Dropdown</code> for more complicated scenarios (e.g: only open the dropdown when a request is successful).</p></li><li><p><code>Dropdown</code> has markup that relates to the <code>Navbar</code> component.</p></li></ol><p>If we refactor the <code>Dropdown</code> component to push the logic up. We end up with a much more reusable <code>Dropdown</code> component.</p><pre><code class="language-javascript">const DropdownItem = ({ className, ...props }) =&gt; (
  &lt;li className={`dropdown-item ${className || &quot;&quot;}`} {...props} /&gt;
);

const Dropdown = ({ className, ...props }) =&gt; (
  &lt;ul className={`dropdown ${className || &quot;&quot;}`} {...props} /&gt;
);

class Navbar extends React.Component {
  state = { showUserOptions: false };
  
  toggleOptions = () =&gt; {
    this.setState(state =&gt; ({
      showUserOptions: !state.showUserOptions
    }));
  }

  render() {
    return (
      &lt;div className=&quot;navbar&quot;&gt;
        &lt;div className=&quot;navbar-brand&quot;&gt;Example&lt;/div&gt;
        &lt;ul className=&quot;navbar-menu&quot;&gt;
          &lt;div className=&quot;navbar-link&quot;&gt;
            &lt;span onClick={this.toggleOptions}&gt;My Account&lt;/span&gt;
            {this.state.showUserOptions &amp;&amp; (
              &lt;Dropdown&gt;
                &lt;DropdownItem&gt;One&lt;/DropdownItem&gt;
                &lt;DropdownItem&gt;Two&lt;/DropdownItem&gt;
              &lt;/Dropdown&gt;
            )}
          &lt;/div&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    );
  }
}</code></pre><h2>Summary</h2><ul><li>Keep the component layout fluid.</li><li>Allows extra props to be passed into the component.</li><li>Keep logic out of them as much as possible.</li></ul><iframe src="https://kameront.substack.com/embed" width="100%" height="320" style="border:0" frameBorder="0" scrolling="no" class="jsx-1922407009"></iframe></article></div></div><footer class="jsx-525169924 container"><ul class="jsx-525169924"><li style="color:rgb(161 161 161)" class="jsx-525169924">© Kameron Tanseli 2020</li><li class="jsx-525169924"><a target="_blank" rel="noopener noreferrer" href="https://www.instagram.com/kameron_tanseli" class="jsx-525169924">Instagram</a></li><li class="jsx-525169924"><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/KameronTanseli" class="jsx-525169924">Twitter</a></li><li class="jsx-525169924"><a target="_blank" rel="noopener noreferrer" href="mailto:kamerontanseliwork@gmail.com" class="jsx-525169924">Email</a></li><li class="jsx-525169924"><a target="_blank" rel="noopener noreferrer" href="https://kameront.substack.com/" class="jsx-525169924">Newsletter</a></li></ul></footer></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"post":{"content":"\nI spend a lot of my time developing new reusable UI components.\n\nThis means during development I tend to extract UI components that are placed in a shared library or styleguide. These components are reused throughout the entire project. Often having different styles or layouts when integrated into features.\n\nAlong the way I learnt a few rules that helped me save time and pain.\n\n## 1. Keep the layout fluid\n\nI can’t count the amount of times a component has had a fixed width and that has affected a responsive design. Meaning I have to go in and fiddle with the existing props that was set up in place for another feature somewhere in the site. Not good.\n\nBy keeping the component 100% width you pass the layout responsibility up to the parent component.\n\nFor example it’s a lot easier to use `CardOne` over `CardTwo`. As `CardOne` will respond to the parent's column changes when the screen size changes.\n\n```javascript\nconst CardOne = ({ title }) =\u003e (\n  \u003cdiv style={{ \n    padding: \"20px 30px\", \n    background: \"white\" \n  }}\u003e{title}\u003c/div\u003e\n);\n\nconst CardTwo = ({ title }) =\u003e (\n  \u003cdiv style={{ \n    width: 600, \n    padding: \"10px\",\n    background: \"white\" \n  }}\u003e\n    {title}\n  \u003c/div\u003e\n);\n\nconst App = () =\u003e (\n  \u003cdiv className=\"row\"\u003e\n    \u003cdiv className=\"col-md-6\"\u003e\n      \u003cCardOne title=\"I'm Fluid\" /\u003e\n    \u003c/div\u003e\n    \u003cdiv className=\"col-md-6\"\u003e\n      \u003cCardTwo title=\"I will break this layout\" /\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n);\n```\n\n## 2. Allow extra props to be passed\n\nTurns out that your Button component needs a specific data attribute to work with the library you’re using for one of the specific features. Too bad that the `Button` component only allows `className`, `children` and `onClick`.\n\nHow can we fix this?\n\n[Modern ES6 JavaScript allows you to spread function parameters and objects.](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax) This can be used to feed props to components.\n\n```javascript\n// Before -\u003e \u003cbutton className=\"button\"\u003eClick me\u003c/button\u003e\n\nconst Button = ({ children, className, onClick }) =\u003e (\n  \u003cbutton \n    onClick={onClick} \n    className={`${styles.button} ${className || \"\"}`}\u003e\n    {children}\n  \u003c/button\u003e\n);\n\n// After -\u003e \u003cbutton className=\"button\" data-theme=\"dark\"\u003eClick me\u003c/button\u003e\n\nconst Button = ({ className, ...props }) =\u003e (\n  \u003cbutton \n    className={`${styles.button} ${className || \"\"}`} \n    {...props} /\u003e\n);\n\n// Example\n\nconst App = ({ onActivate }) =\u003e (\n  \u003cSpecificFeature\u003e\n    \u003cButton data-theme=\"dark\" onClick={onActivate}\u003e\n      Click me\n    \u003c/Button\u003e\n  \u003c/SpecificFeature\u003e\n);\n```\n\n## 3. Push logic upwards / Keep it dumb\n\nOne of the top things that prevents reusability is when stateful logic specific to a feature is implemented within a reusable component.\n\nImagine you have a `Dropdown` component. That you have used in your navigation when a link is clicked.\n\n```javascript\nconst DropdownItem = ({ className, ...props }) =\u003e (\n  \u003cli className={`dropdown-item ${className || \"\"}`} {...props} /\u003e\n);\n\nclass Dropdown extends React.Component {\n  state = { toggled: false };\n  toggle = () =\u003e this.setState(state =\u003e ({ toggled: !state.toggled }));\n  render() {\n    return (\n      \u003cdiv className=\"navbar-link\"\u003e\n        \u003cspan onClick={this.toggle}\u003e {this.props.title} \u003c/span\u003e\n        {this.state.toggled \u0026\u0026 (\n          \u003cul className=\"dropdown\"\u003e {this.props.children} \u003c/ul\u003e\n        )}\n      \u003c/div\u003e\n    );\n  }\n}\n\nconst Navbar = () =\u003e (\n  \u003cdiv className=\"navbar\"\u003e\n    \u003cdiv className=\"navbar-brand\"\u003eExample\u003c/div\u003e\n    \u003cul className=\"navbar-menu\"\u003e\n      \u003cDropdown title=\"My Account\"\u003e\n        \u003cDropdownItem\u003eOne\u003c/DropdownItem\u003e\n        \u003cDropdownItem\u003eTwo\u003c/DropdownItem\u003e\n      \u003c/Dropdown\u003e\n    \u003c/ul\u003e\n  \u003c/div\u003e\n);\n```\n\nThe problem above is:\n\n1. `Dropdown` handles the logic for opening and closing the dropdown. Making it a lot harder to reuse `Dropdown` for more complicated scenarios (e.g: only open the dropdown when a request is successful).\n\n2. `Dropdown` has markup that relates to the `Navbar` component.\n\nIf we refactor the `Dropdown` component to push the logic up. We end up with a much more reusable `Dropdown` component.\n\n```javascript\nconst DropdownItem = ({ className, ...props }) =\u003e (\n  \u003cli className={`dropdown-item ${className || \"\"}`} {...props} /\u003e\n);\n\nconst Dropdown = ({ className, ...props }) =\u003e (\n  \u003cul className={`dropdown ${className || \"\"}`} {...props} /\u003e\n);\n\nclass Navbar extends React.Component {\n  state = { showUserOptions: false };\n  \n  toggleOptions = () =\u003e {\n    this.setState(state =\u003e ({\n      showUserOptions: !state.showUserOptions\n    }));\n  }\n\n  render() {\n    return (\n      \u003cdiv className=\"navbar\"\u003e\n        \u003cdiv className=\"navbar-brand\"\u003eExample\u003c/div\u003e\n        \u003cul className=\"navbar-menu\"\u003e\n          \u003cdiv className=\"navbar-link\"\u003e\n            \u003cspan onClick={this.toggleOptions}\u003eMy Account\u003c/span\u003e\n            {this.state.showUserOptions \u0026\u0026 (\n              \u003cDropdown\u003e\n                \u003cDropdownItem\u003eOne\u003c/DropdownItem\u003e\n                \u003cDropdownItem\u003eTwo\u003c/DropdownItem\u003e\n              \u003c/Dropdown\u003e\n            )}\n          \u003c/div\u003e\n        \u003c/ul\u003e\n      \u003c/div\u003e\n    );\n  }\n}\n```\n\n## Summary\n* Keep the component layout fluid.\n* Allows extra props to be passed into the component.\n* Keep logic out of them as much as possible.","data":{"author":"Kameron Tanseli","date":"2019-12-24T13:56:26.370Z","hero_image":"../static/js-cover.png","title":"The rules of reusable components","byline":"I spend a lot of my time developing new reusable UI components."},"isEmpty":false,"excerpt":""},"slug":"the-rules-of-reusable-components"}},"page":"/blog/[slug]","query":{"slug":"the-rules-of-reusable-components"},"buildId":"CeXEtZCK_dH_lyNvIwT12","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/blog/[slug]" src="/_next/static/CeXEtZCK_dH_lyNvIwT12/pages/blog/[slug].js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/CeXEtZCK_dH_lyNvIwT12/pages/_app.js"></script><script src="/_next/static/runtime/webpack-ec75628763f128f9ddee.js" async=""></script><script src="/_next/static/chunks/commons.fb2d51f5ea79888db098.js" async=""></script><script src="/_next/static/runtime/main-606693b16ac3d77701fe.js" async=""></script></body></html>